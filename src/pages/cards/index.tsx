import Head from 'next/head';
import Image from 'next/image';
// @ts-ignore
import {ICONS, IMAGES} from "public/images";
import Layout from "../../components/layouts/profile-layout";
// @ts-ignore
import {userBgIcon} from "/public/images/icons";
// @ts-ignore
import Cards from "/public/images/icons/nav/navCards";
// @ts-ignore
import Points from "/public/images/icons/nav/navPoints";
// @ts-ignore// @ts-ignore
import React from "react";
import TicketItem from "../../components/blocks/ticket-item";
import axios from "axios";

export default function CardsPage() {

  const addCard = () => {
    let obj = {
      "user_id": null,
      "contract_id": null,
      "party_id": null,
      "bog_order_request_dto": {
        "intent": "AUTHORIZE",
        "items": [{
          "amount": 1,
          "description": "123",
          "quantity": 1,
          "product_id": 123
        }]
        ,
        "locale": "ka",
        "shop_order_id": "123456",
        "redirect_url": "https://bog-banking.pirveli.ge/api/bog/callback/statusChange",
        "show_shop_order_id_on_extract": true,
        "capture_method": "AUTOMATIC",
        "purchase_units": [
          {
            "amount": {
              "currency_code": "GEL",
              "value": 1
            }
          }
        ]
      }
    }

    axios.post(`https://vouchers.pirveli.ge/api/bog/orders`, obj).then((res) => {
      let link = res?.data?.links[1]?.href;
      typeof window !== 'undefined' && window.open(link, '_blank');

    })
  }

  return (
      <div>
        <Head>
          <title>Create Next App</title>
          <meta name="description" content="Generated by create next app"/>
          <link rel="icon" href="/public/favicon.ico"/>
        </Head>

        <div className={"w-full"}>

          <h2 className={"text-[32px] text-[#383838] font-bold"}>
            გადახდის მეთოდები
          </h2>

          <div className={"gap-x-[30px] grid grid-cols-3 h-[2000px] mt-[40px]"}>
            <div
                className={"w-full bg-[#db006033] rounded-[5px] h-[200px] flex items-center justify-center cursor-pointer"}
                onClick={() => addCard()}>
              <div>
                <p className={"text-red text-center"}>+</p>
                <p className={"text-red text-center"}>დაამატე ბარათი</p>
              </div>
            </div>
            <p>2</p>
            <p>3</p>
          </div>

        </div>

      </div>
  )
}

CardsPage.getLayout = function getLayout(page: any) {
  return (
      <Layout>
        {page}
      </Layout>
  )
}